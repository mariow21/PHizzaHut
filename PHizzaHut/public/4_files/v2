


(function() {
    var amznAutoTagger=function(a){var c={};c.process=function(e){d(e,a.trackingId);};var b=["tag","tag-value","tag_value","t"];function d(h,e){var g=false;for(var f=0;f<b.length;f++){if(amznOneTagUtils.isQueryParamPresent(h,b[f])){g=true;break;}}if(!g){amznOneTagUtils.addQueryParam(h,"linkCode","w50");amznOneTagUtils.addQueryParam(h,"tag",e);}}return c;};
    var amznOneTagUtils=(function(){var b={};var a={CA:["ca"],CN:["cn"],IN:["in"],DE:["de"],FR:["fr"],GB:["co.uk"],JP:["jp","co.jp"],US:["com"],MX:["com.mx"],ES:["es"],IT:["it"],AU:["com.au"],BR:["br"],UK:["co.uk"],SA:["sa"],NL:["nl"],AE:["ae"],SG:["sg"]};var c="ots";b.fetchAmznLinks=function(h,e,f){var d=a[e];var g=[];d.forEach(function(m,k){var n=new RegExp("^(http|https)://(www|[\\w\\-\\.]+)?amazon\\.("+m+")/","i");var l=h.getElementsByTagName("a");for(i=0;i<l.length;i++){var j=String(l[i].href);if(j.match(n)&&!isAnExcludedLink(j,f,m)){g.push(l[i]);}}});return g;};b.markLinkAsProcessed=function(d){if(b.isLinkProcessed(d)){return;}b.addQueryParam(d,c,"1");};b.isLinkProcessed=function(d){return d.search.indexOf("ots=1")!==-1;};b.addQueryParam=function(e,d,f){if(e.search.length===0){e.search=e.search.concat("?"+d+"="+f);}else{e.search=e.search.replace(/\?/,"?"+d+"="+f+"&");}};b.isQueryParamPresent=function(f,e){var d="/?"+e+"=([^&]+)|&"+e+"=([^&]+)/";return f.search.match(d);};b.getCurrentUrl=function(){return(window.location!==window.parent.location)?document.referrer:document.location.href;};isAnExcludedLink=function(g,e,h){var f,d=false;for(f=0;f<e.length;f++){var j=e[f].replace("{0}",h);if(g.match(j)){d=true;break;}}return d;};b.isTrackingEnabled=function(){return !window["aa-disable-onetag-tracking"];};return b;}());var amznLinkSlot=(function(){var a={};var b=-1;a.getSlot=function(){return b;};a.increment=function(){b++;};return a;}());var amznPageHandler=function(c){var e={};var b=[];var d=null;var a=function(){if(typeof amznFetchImpression!=="undefined"&&amznOneTagUtils.isTrackingEnabled()){b.push(amznFetchImpression(c));}if(typeof amznTransitRecorder!=="undefined"&&amznOneTagUtils.isTrackingEnabled()){b.push(amznTransitRecorder(c));}if(typeof amznPixelRecorder!=="undefined"&&amznOneTagUtils.isTrackingEnabled()){b.push(amznPixelRecorder(c));}var j=null;if(b.length){j=b[0];for(var h=1;h<b.length;h++){var f=b[h];var k=b[h-1];k.setNextStep(f.process);}var g=b[b.length-1];g.setNextStep(e.completed);}return j;};e.handleRequest=function(){var f=a();if(f){f.process(document);}else{e.completed();}};e.setNextHandler=function(f){d=f;};e.completed=function(){if(d){d();}};return e;};var amznLinkHandler=function(c){var e={};var d=null;var b=[];var a=function(f){if(typeof amznAutoTagger!=="undefined"){b.push(amznAutoTagger(c));}if(typeof amznPixelRecorder!=="undefined"&&amznOneTagUtils.isTrackingEnabled()){b.push(amznPixelRecorder(c));}if(typeof amznImpressionAppender!=="undefined"&&amznOneTagUtils.isTrackingEnabled()){b.push(amznImpressionAppender(c));}};e.handleRequest=function(){var g=amznOneTagUtils.fetchAmznLinks(document,c.region,c.denyList);if(b.length===0){a();}for(var f=0;f<g.length;f++){if(!amznOneTagUtils.isLinkProcessed(g[f])){amznLinkSlot.increment();b.forEach(function(h){h.process(g[f]);});amznOneTagUtils.markLinkAsProcessed(g[f]);}}e.completed();};e.setNextHandler=function(f){d=f;};e.completed=function(){if(d){d();}};return e;};var amznMutationRunner=function(h){var g={};var f=3000;var c={childList:true,subtree:true,chracterData:true};var e=document.body;var j,a;var d=false;function b(){a=Date.now();j=a;h.handleRequest();d=false;}g.process=function(){h.setNextHandler(null);j=Date.now();var k=new MutationObserver(function(l){a=Date.now();if(a-j>f){j=a;h.handleRequest();}else{if(!d){d=true;setTimeout(b,f);}}});k.observe(e,c);};return g;};var amznDynamicContentHandler=function(a){var c={};var b=null;c.handleRequest=function(){if(typeof amznMutationRunner!=="undefined"){amznMutationRunner(a).process();}c.completed();};c.setNextHandler=function(d){b=d;};c.completed=function(){if(b){b();}};return c;};var amznOneTag=function(a){var b={};b.execute=function(){var e=amznPageHandler(a);var c=amznLinkHandler(a);var d=amznDynamicContentHandler(c);c.setNextHandler(d.handleRequest);e.setNextHandler(c.handleRequest);e.handleRequest();};return b;};
var spec = {
trackingId : "cookin09a-20",
region : "US",
aesEndpoint : "https://assoc-na.associates-amazon.com",
denyList: [   "kdp.amazon.{0}"   , "amazon.{0}/adprefs"   , "advertising.amazon.{0}"   , "services.amazon.{0}/advertising"   , "amazon.{0}/advertise"   , "aws.amazon.{0}"   , "docs.aws.amazon.{0}"   , "developer.amazon.{0}"   , "giveaway.amazon.{0}"   , "powerup.amazon.{0}/admin"   , "quip-amazon.{0}"   , "advantage.amazon.{0}"   , "amazon.{0}/advantage"   , "ams.amazon.{0}"   , "author.amazon.{0}"   , "cscentral-eu.amazon.{0}"   , "org.amazon.{0}"   , "mturk.amazon.{0}"   , "dtp.amazon.{0}"   , "gamedev.amazon.{0}"   , "videodirect.amazon.{0}"   , "smile.amazon.{0}"   , "echo.amazon.{0}"   , "blueprints.amazon.{0}"   , "affiliate-blog.amazon.{0}"   , "jobfinder.amazon.{0}"   , "whispercast.amazon.{0}"   , "affiliate-program.amazon.{0}"   , "freight.amazon.{0}"   , "brandservices.amazon.{0}"   , "aftlite-na.amazon.{0}"   , "smt-tools.amazon.{0}"   , "alexa.amazon.{0}"   , "rapids.amazon.{0}"   , "fba.amazon.{0}"   , "authorize.payments.amazon.{0}"   , "kindleworlds.amazon.{0}"   , "authorcentral.amazon.{0}"   , "primenow.amazon.{0}"   , "kindlescout.amazon.{0}"   , "ignite.amazon.{0}"   , "payments.amazon.{0}"   , "amazonpublishing.amazon.{0}"   , "sell.amazon.{0}"   , "wap-jobs.amazon.{0}"   , "catalyst.amazon.{0}"   , "analytics-bi.amazon.{0}"   , "pay.amazon.{0}"   , "sellercentral.amazon.{0}"   , "source.amazon.{0}"   , "remars.amazon.{0}"   , "cloudcam.amazon.{0}"   , "studios.amazon.{0}"   , "read.amazon.{0}"   , "seller-central.amazon.{0}"   , "images.amazon.{0}"   , "alexaanswers.amazon.{0}"   , "kindle.amazon.{0}"   , "apub.amazon.{0}"   , "login.amazon.{0}"   , "sellercentral-europe.amazon.{0}"   , "services.amazon.{0}"   , "games.amazon.{0}"   , "twitch.amazon.{0}"   , "merch.amazon.{0}"   , "aps.amazon.{0}"   , "iliate-program.amazon.{0}"   , "translation.amazon.{0}"   , "logistics.amazon.{0}"   , "trans-logistics-eu.amazon.{0}"   , "pslip-web-na.amazon.{0}"   ]
};
var onetag = amznOneTag(spec);
onetag.execute();
}());
